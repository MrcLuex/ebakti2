{"version":3,"sources":["attendanceController.js"],"names":["Attendance","require","exports","createAttendance","req","res","_req$body","group_id","period_id","user_id","selfie_image","date","status","newAttendance","regeneratorRuntime","async","_context","prev","next","body","awrap","create","sent","json","t0","error","message","stop","attendances","_context2","findAll","console","id","_req$body2","attendance","_context3","params","findByPk","abrupt","update","deleteAttendance","_context4","destroy"],"mappings":"aAAA,IAAMA,WAAaC,QAAQ,wBAG3BC,QAAQC,iBAAmB,SAAOC,EAAKC,GAAZ,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAZ,EAC4CF,EAAIe,KAAjEZ,EADiBD,EACjBC,SAAUC,EADOF,EACPE,UAAWC,EADJH,EACIG,QAASC,EADbJ,EACaI,aAAcC,EAD3BL,EAC2BK,KAAMC,EADjCN,EACiCM,OADjCI,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAM,MAIKpB,WAAWqB,OAAO,CAJvBd,SAAAA,EAAAC,UAAAA,EAAAC,QAAAA,EAAAC,aAAAA,EAAAC,KAAAA,EAAAC,OAAAA,KAAA,KAAA,EAIjBC,EAJiBG,EAAAM,KAKrBf,EAAAA,OAAAA,KAAQgB,KAARhB,CACAC,QAAAA,kCACAC,WAAAA,IAPqBO,EAAAE,KAAA,GAAA,MAAA,KAAA,EAAAF,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,MAAA,GAUrBJ,QAAAA,MAAM,oCAANA,EAAAA,GAAAA,SAN4CP,EAAAO,OAJvB,KAAAW,KAAA,CAAAE,MAAAT,EAAAQ,GAAAE,UAAA,KAAA,GAAA,IAAA,MAAA,OAAAV,EAAAW,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,MAcrBD,QAAAA,cAAS,SAAAtB,EAAAC,GAAA,IAAAuB,EAAA,OAAAd,mBAAAC,MAAA,SAAAc,GAAA,OAAA,OAAAA,EAAAZ,KAAAY,EAAAX,MAAA,KAAA,EAAA,OAAAW,EAAAZ,KAAA,EAAAY,EAAAX,KAAA,EAAAJ,mBAAAM,MADXpB,WAAA8B,WACW,KAAA,EADUF,EACVC,EAAAP,KAdYjB,EAAAO,OAAA,KAAAW,KAAAK,GAcZC,EAAAX,KAAA,GAAA,MAAA,KAAA,EAAAW,EAAAZ,KAAA,EAAAY,EAAAL,GAAAK,EAAA,MAAA,GAeXE,QAAQN,MAAM,qCAAsCI,EAAAL,GAAME,SA7BnCrB,EAAAO,OAAA,KAAAW,KAAA,CAAAE,MAAAI,EAAAL,GAAAE,UAcZ,KAAA,GAAA,IAAA,MAAA,OAAAG,EAAAF,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,MAKYF,QAAAA,iBAAO,SAAMC,EAAAA,GAAN,IAAAM,EAAAC,EAAA1B,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAsB,EAAA,OAAApB,mBAAAC,MAAA,SAAAoB,GAAA,OAAA,OAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,KAAA,EAAA,OAATc,EAArB5B,EAAAgC,OAAqBJ,GAASC,EAkBqC7B,EAAIe,KAAjEZ,EAlBwB0B,EAkBxB1B,SAAUC,EAlBcyB,EAkBdzB,UAAWC,EAlBGwB,EAkBHxB,QAASC,EAlBNuB,EAkBMvB,aAAcC,EAlBpBsB,EAkBoBtB,KAAMC,EAlB1BqB,EAkB0BrB,OAlB1BuB,EAAAlB,KAAA,EAAAkB,EAAAjB,KAAA,EAAAJ,mBAAAM,MAnBPpB,WAAAqC,SAAAL,IAmBO,KAAA,EAAA,GAnBPE,EAmBOC,EAAAb,KAAA,CAAAa,EAAAjB,KAAA,EAAA,MAAA,OAAAiB,EAAAG,OAAA,SAnBPjC,EAAAO,OAAA,KAAAW,KAAA,CAAAE,MAAA,0BAmBO,KAAA,EAAA,OAAAU,EAAAjB,KAAA,GAAAJ,mBAAAM,MA0BxBc,EAAWK,OAAO,CACtBhC,SAAAA,EAtBNL,UAAAA,EAAwBO,QAAAA,EAAAC,aAAAA,EAAAC,KAAAA,EAAAC,OAAAA,KALU,KAAA,GAKVP,EAAAO,OAAA,KAAAW,KAAA,CAAAG,QAAA,kCAgClBQ,WAAAA,IArC4BC,EAAAjB,KAAA,GAAA,MAAA,KAAA,GAAAiB,EAAAlB,KAAA,GAAAkB,EAAAX,GAAAW,EAAA,MAAA,GAQ9B9B,QAAAA,MAAIO,kCAAJuB,EAAAX,GAAAE,SAHoBrB,EAAAO,OAAA,KAAAW,KAAA,CAAAE,MAAAU,EAAAX,GAAAE,UALU,KAAA,GAAA,IAAA,MAAA,OAAAS,EAAAR,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,OAKVzB,QAAAsC,iBAAA,SAAApC,EAAAC,GAAA,IAAA2B,EAAAE,EAAA,OAAApB,mBAAAC,MAAA,SAAA0B,GAAA,OAAA,OAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,KAAA,EAAA,OAKpBa,EAAO3B,EAACqB,OAARM,GALoBU,EAAAxB,KAAA,EAAAwB,EAAAvB,KAAA,EAAAJ,mBAAAM,MAMpBpB,WAAAqC,SAAAL,IANoB,KAAA,EAAA,GAMCE,EANDO,EAAAnB,KAAA,CAAAmB,EAAAvB,KAAA,EAAA,MAAA,OAAAuB,EAAAH,OAAA,SAAAjC,EAAAO,OAAA,KAAAW,KAAA,CAAAE,MAAA,0BAAA,KAAA,EAAA,OAAAgB,EAAAvB,KAAA,EAAAJ,mBAAAM,MAAAc,EAAAQ,WAAA,KAAA,EAAArC,EAAAO,OAAA,KAAAW,KAAA,CAAAG,QAAA,oCAAAe,EAAAvB,KAAA,GAAA,MAAA,KAAA,GAAAuB,EAAAxB,KAAA,GAAAwB,EAAAjB,GAAAiB,EAAA,MAAA,GAUxBV,QAAAN,MAAA,oCAAAgB,EAAAjB,GAAAE,SA4CIrB,EAAIO,OAAO,KAAKW,KAAK,CAAEE,MAAOgB,EAAAjB,GAAME,UAtDhB,KAAA,GAAA,IAAA,MAAA,OAAAe,EAAAd,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA","file":"attendanceController.min.js","sourcesContent":["const Attendance = require('../models/Attendance');\r\n\r\n// Create Attendance\r\nexports.createAttendance = async (req, res) => {\r\n  const { group_id, period_id, user_id, selfie_image, date, status } = req.body;\r\n\r\n  try {\r\n    const newAttendance = await Attendance.create({\r\n      group_id,\r\n      period_id,\r\n      user_id,\r\n      selfie_image,\r\n      date,\r\n      status,\r\n    });\r\n\r\n    res.status(201).json({\r\n      message: 'Attendance created successfully',\r\n      attendance: newAttendance,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error during attendance creation:\", error.message);\r\n    res.status(500).json({ error: error.message });\r\n  }\r\n};\r\n\r\n// Get All Attendance Records\r\nexports.getAttendance = async (req, res) => {\r\n  try {\r\n    const attendances = await Attendance.findAll();\r\n    res.status(200).json(attendances);\r\n  } catch (error) {\r\n    console.error(\"Error fetching attendance records:\", error.message);\r\n    res.status(500).json({ error: error.message });\r\n  }\r\n};\r\n\r\n// Update Attendance\r\nexports.updateAttendance = async (req, res) => {\r\n  const { id } = req.params;\r\n  const { group_id, period_id, user_id, selfie_image, date, status } = req.body;\r\n\r\n  try {\r\n    const attendance = await Attendance.findByPk(id);\r\n    if (!attendance) {\r\n      return res.status(404).json({ error: 'Attendance not found' });\r\n    }\r\n\r\n    await attendance.update({\r\n      group_id,\r\n      period_id,\r\n      user_id,\r\n      selfie_image,\r\n      date,\r\n      status,\r\n    });\r\n\r\n    res.status(200).json({\r\n      message: 'Attendance updated successfully',\r\n      attendance,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error during attendance update:\", error.message);\r\n    res.status(500).json({ error: error.message });\r\n  }\r\n};\r\n\r\n// Delete Attendance\r\nexports.deleteAttendance = async (req, res) => {\r\n  const { id } = req.params;\r\n\r\n  try {\r\n    const attendance = await Attendance.findByPk(id);\r\n    if (!attendance) {\r\n      return res.status(404).json({ error: 'Attendance not found' });\r\n    }\r\n\r\n    await attendance.destroy();\r\n    res.status(200).json({ message: 'Attendance deleted successfully' });\r\n  } catch (error) {\r\n    console.error(\"Error during attendance deletion:\", error.message);\r\n    res.status(500).json({ error: error.message });\r\n  }\r\n};"]}