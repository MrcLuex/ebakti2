{"version":3,"sources":["attendanceController.js"],"names":["Attendance","require","exports","createAttendance","req","res","body","group_id","period_id","user_id","selfie_image","date","status","create","newAttendance","json","message","attendance","console","error","getAttendance","findAll","attendances","updateAttendance","id","params","findByPk","update","deleteAttendance","destroy"],"mappings":"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","sourcesContent":["const Attendance = require('../models/Attendance');\r\n\r\n// Create Attendance\r\nexports.createAttendance = async (req, res) => {\r\n  const { group_id, period_id, user_id, selfie_image, date, status } = req.body;\r\n\r\n  try {\r\n    const newAttendance = await Attendance.create({\r\n      group_id,\r\n      period_id,\r\n      user_id,\r\n      selfie_image,\r\n      date,\r\n      status,\r\n    });\r\n\r\n    res.status(201).json({\r\n      message: 'Attendance created successfully',\r\n      attendance: newAttendance,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error during attendance creation:\", error.message);\r\n    res.status(500).json({ error: error.message });\r\n  }\r\n};\r\n\r\n// Get All Attendance Records\r\nexports.getAttendance = async (req, res) => {\r\n  try {\r\n    const attendances = await Attendance.findAll();\r\n    res.status(200).json(attendances);\r\n  } catch (error) {\r\n    console.error(\"Error fetching attendance records:\", error.message);\r\n    res.status(500).json({ error: error.message });\r\n  }\r\n};\r\n\r\n// Update Attendance\r\nexports.updateAttendance = async (req, res) => {\r\n  const { id } = req.params;\r\n  const { group_id, period_id, user_id, selfie_image, date, status } = req.body;\r\n\r\n  try {\r\n    const attendance = await Attendance.findByPk(id);\r\n    if (!attendance) {\r\n      return res.status(404).json({ error: 'Attendance not found' });\r\n    }\r\n\r\n    await attendance.update({\r\n      group_id,\r\n      period_id,\r\n      user_id,\r\n      selfie_image,\r\n      date,\r\n      status,\r\n    });\r\n\r\n    res.status(200).json({\r\n      message: 'Attendance updated successfully',\r\n      attendance,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error during attendance update:\", error.message);\r\n    res.status(500).json({ error: error.message });\r\n  }\r\n};\r\n\r\n// Delete Attendance\r\nexports.deleteAttendance = async (req, res) => {\r\n  const { id } = req.params;\r\n\r\n  try {\r\n    const attendance = await Attendance.findByPk(id);\r\n    if (!attendance) {\r\n      return res.status(404).json({ error: 'Attendance not found' });\r\n    }\r\n\r\n    await attendance.destroy();\r\n    res.status(200).json({ message: 'Attendance deleted successfully' });\r\n  } catch (error) {\r\n    console.error(\"Error during attendance deletion:\", error.message);\r\n    res.status(500).json({ error: error.message });\r\n  }\r\n};"],"file":"attendanceController.dev.js"}