"use strict";var ChallengeSubmission=require("../models/ChallengeSubmission");exports.createChallengeSubmission=function(s,n){var r,t,a,u,i,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.body,t=r.challenge_id,a=r.user_id,u=r.submission_file,i=r.status,e.prev=1,e.next=4,regeneratorRuntime.awrap(ChallengeSubmission.create({challenge_id:t,user_id:a,submission_file:u,status:i}));case 4:o=e.sent,n.status(201).json({message:"Challenge submission created successfully",submission:o}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error during challenge submission creation:",e.t0.message),n.status(500).json({error:e.t0.message});case 12:case"end":return e.stop()}},null,null,[[1,8]])},exports.getChallengeSubmissions=function(e,s){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(ChallengeSubmission.findAll());case 3:n=e.sent,s.status(200).json(n),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching challenge submissions:",e.t0.message),s.status(500).json({error:e.t0.message});case 11:case"end":return e.stop()}},null,null,[[0,7]])},exports.updateChallengeSubmission=function(s,n){var r,t,a,u,i,o,l;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.params.id,t=s.body,a=t.challenge_id,u=t.user_id,i=t.submission_file,o=t.status,e.prev=2,e.next=5,regeneratorRuntime.awrap(ChallengeSubmission.findByPk(r));case 5:if(l=e.sent){e.next=8;break}return e.abrupt("return",n.status(404).json({error:"Challenge submission not found"}));case 8:return e.next=10,regeneratorRuntime.awrap(l.update({challenge_id:a,user_id:u,submission_file:i,status:o}));case 10:n.status(200).json({message:"Challenge submission updated successfully",submission:l}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error during challenge submission update:",e.t0.message),n.status(500).json({error:e.t0.message});case 17:case"end":return e.stop()}},null,null,[[2,13]])},exports.deleteChallengeSubmission=function(s,n){var r,t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.params.id,e.prev=1,e.next=4,regeneratorRuntime.awrap(ChallengeSubmission.findByPk(r));case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return",n.status(404).json({error:"Challenge submission not found"}));case 7:return e.next=9,regeneratorRuntime.awrap(t.destroy());case 9:n.status(200).json({message:"Challenge submission deleted successfully"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error during challenge submission deletion:",e.t0.message),n.status(500).json({error:e.t0.message});case 16:case"end":return e.stop()}},null,null,[[1,12]])};
//# sourceMappingURL=challengeSubmissionController.min.js.map
