"use strict";var TaskSubmission=require("../models/TaskSubmission");exports.createTaskSubmission=function(s,r){var t,a,n,u,i,o,c,m;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.body,a=t.task_id,n=t.user_id,u=t.submission_date,i=t.score,o=t.feedback,c=t.status,e.prev=1,e.next=4,regeneratorRuntime.awrap(TaskSubmission.create({task_id:a,user_id:n,submission_date:u,score:i,feedback:o,status:c}));case 4:return m=e.sent,e.abrupt("return",r.status(201).json({message:"Task submission created successfully",submission:m}));case 8:return e.prev=8,e.t0=e.catch(1),console.error("Error during task submission creation:",e.t0.message),e.abrupt("return",r.status(500).json({message:"Terjadi kesalahan saat membuat pengumpulan tugas.",error:e.t0}));case 12:case"end":return e.stop()}},null,null,[[1,8]])},exports.getTaskSubmissions=function(e,s){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(TaskSubmission.findAll());case 3:return r=e.sent,e.abrupt("return",s.status(200).json(r));case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching task submissions:",e.t0.message),e.abrupt("return",s.status(500).json({message:"Terjadi kesalahan saat mengambil pengumpulan tugas.",error:e.t0}));case 11:case"end":return e.stop()}},null,null,[[0,7]])},exports.updateTaskSubmission=function(s,r){var t,a,n,u,i,o,c,m,p;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.params.id,a=s.body,n=a.task_id,u=a.user_id,i=a.submission_date,o=a.score,c=a.feedback,m=a.status,e.prev=2,e.next=5,regeneratorRuntime.awrap(TaskSubmission.findByPk(t));case 5:if(p=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Task submission not found"}));case 8:return e.next=10,regeneratorRuntime.awrap(p.update({task_id:n,user_id:u,submission_date:i,score:o,feedback:c,status:m}));case 10:return e.abrupt("return",r.status(200).json({message:"Task submission updated successfully",submission:p}));case 13:return e.prev=13,e.t0=e.catch(2),console.error("Error during task submission update:",e.t0.message),e.abrupt("return",r.status(500).json({message:"Terjadi kesalahan saat memperbarui pengumpulan tugas.",error:e.t0}));case 17:case"end":return e.stop()}},null,null,[[2,13]])},exports.deleteTaskSubmission=function(s,r){var t,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.params.id,e.prev=1,e.next=4,regeneratorRuntime.awrap(TaskSubmission.findByPk(t));case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return",r.status(404).json({message:"Task submission not found"}));case 7:return e.next=9,regeneratorRuntime.awrap(a.destroy());case 9:return e.abrupt("return",r.status(200).json({message:"Task submission deleted successfully"}));case 12:return e.prev=12,e.t0=e.catch(1),console.error("Error during task submission deletion:",e.t0.message),e.abrupt("return",r.status(500).json({message:"Terjadi kesalahan saat menghapus pengumpulan tugas.",error:e.t0}));case 16:case"end":return e.stop()}},null,null,[[1,12]])};
//# sourceMappingURL=taskSubmissionController.min.js.map
